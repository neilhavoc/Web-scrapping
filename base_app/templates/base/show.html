{% extends "base.html" %}
  
{% block title %}Employee Records{% endblock title %}
  
{% block content %}
 <div class="col-md-12">
        {% comment %} <span><a href="/addnew" class="btn btn-primary">Add New Record</a></span> {% endcomment %}
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#adduserModal">
            Add New Record
          </button>  
        <div class="table-responsive">
        <table id="bootstrapdatatable" class="table table-striped table-bordered" width="100%">
        <thead>
            <th><input type="checkbox" id="checkall" /></th>
            <th>ID</th>
            <th>Employee Name</th>
            <th>Employee Email</th>
            <th>Employee Contact</th>
            <th>Edit</th>
            <th>Delete</th>
        </thead>
        <tbody>
        {% for employee in employees %}  
            <tr>  
            <td><input type="checkbox" class="checkthis" /></td>
            <td>{{ employee.id }}</td>  
            <td>{{ employee.name }}</td>  
            <td>{{ employee.email }}</td>  
            <td>{{ employee.contact }}</td>  
            <td><a href="/edit/{{ employee.id }}" class="btn btn-primary">Edit</a></td>
            {% comment %} <td> <button class="btn btn-success" type="button" data-bs-toggle="modal" data-bs-target="#updateUserModal{{targetid = employee.id}}">Update</button> </td> {% endcomment %}
            <td><a href="/delete/{{ employee.id }}" class="btn btn-danger">Delete</a></td>  
            </tr>  
        {% endfor %} 
        </tbody>
        </table>
        </div>
    </div>

    
      
      <!-- Modal for Add User-->
      <div class="modal fade" id="adduserModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
             
                <form method="POST" class="post-form" action="/index">  
                    {% csrf_token %}  
                    <div class="container">  
                        <div class="col-12">  
                        <h3>Enter Details</h3>  
                        </div>    
                     
                        <div class="mb-3"> 
                            <label>Name:</label>  
                            {{ form.name }}   
                        </div> 
                        <div class="mb-3"> 
                            <label>Email:</label>  
                            {{ form.email }}   
                        </div>  
                        <div class="mb-3"> 
                            <label>Contact:</label>  
                            {{ form.contact }}   
                        </div>
                        <div class="mb-3"> 
                            <button type="submit" class="btn btn-primary">Submit</button>    
                        </div> 
                    </div>  
                    </form>


            </div>
          </div>
        </div>
       

      </div>

{% endblock content %}